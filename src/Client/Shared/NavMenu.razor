@inject IStringLocalizer<NavMenu> L

<PersonCard Style="background-color: var(--mud-palette-drawer-background);color: var(--mud-palette-drawer-text); margin-bottom:0px!important" />
<MudNavMenu>

    @* Personal *@
    <MudNavLink Href="/" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Home">@L["Home"]</MudNavLink>

    <MudText Typo="Typo.subtitle2" Color="Color.Primary" Class="ml-4 my-3">@L["Personal"]</MudText>
    @if (_canViewDashboard)
    {
        <MudNavLink Href="/dashboard" Match="NavLinkMatch.All" Icon="@Icons.Filled.Dashboard">@L["Dashboard"]</MudNavLink>
    }
    <MudNavGroup Title="@L["Account"]" Expanded Icon="@Icons.Filled.ManageAccounts">
        <MudNavLink Match="NavLinkMatch.All" Href="/account" Icon="@Icons.Filled.AssignmentInd" Class="custom-nav-child">@L["Profile"]</MudNavLink>
        <MudNavLink Match="NavLinkMatch.All" Href="/account/address" ForceLoad="true" Icon="@Icons.Filled.Map" Class="custom-nav-child">@L["Address"] 
            @if (AppUserDto != default) {
                if (!AppUserDto.IsAddressVerified)
                {

                    <MudIcon Icon="@Icons.Filled.WarningAmber" Color="Color.Error" Size="Size.Small" Class="mx-2" />
                }
            }
        </MudNavLink>
        <MudNavLink Match="NavLinkMatch.All" Href="/account/rolepackage" ForceLoad="true" Icon="@Icons.Filled.Fingerprint" Class="custom-nav-child">@L["Role and Package"] 
            @if (AppUserDto != default)
            {
                if (!AppUserDto.IsRolePackageVerified)
                {

                    <MudIcon Icon="@Icons.Filled.WarningAmber" Color="Color.Error" Size="Size.Small" Class="mx-2" />
                }
            }
        </MudNavLink>
        <MudNavLink Match="NavLinkMatch.All" Href="/account/document" ForceLoad="true" Icon="@Icons.Filled.Face" Class="custom-nav-child">@L["Documents"] 
            @if (AppUserDto != default)
            {
                if (!AppUserDto.IsDocumentsVerified)
                {

                    <MudIcon Icon="@Icons.Filled.WarningAmber" Color="Color.Error" Size="Size.Small" Class="mx-2" />
                }
            }
        </MudNavLink>
    </MudNavGroup>


    @* Loans *@
    @if (_canViewLoans)
    {
        <MudText Typo="Typo.subtitle2" Color="Color.Primary" Class="ml-4 my-3">@L["Loans"]</MudText>
        <MudNavGroup Title="@L["Loans"]" Expanded Icon="@Icons.Filled.AddBox">
            @if (_canViewLoans)
            {
                <MudNavLink Match="NavLinkMatch.All" Href="/catalog/all/loans" Icon="@Icons.Filled.AttachMoney" Class="custom-nav-child">
                    @L["Loans"]
                </MudNavLink>
            }
        </MudNavGroup>
    }

    @* Products *@
    @if (_canViewProducts || _canViewBrands)
    {
        <MudText Typo="Typo.subtitle2" Color="Color.Primary" Class="ml-4 my-3">@L["Dependency"]</MudText>
        <MudNavGroup Title="@L["Catalog"]" Expanded Icon="@Icons.Filled.Storefront">
            @if (_canViewPackages)
            {
                <MudNavLink Match="NavLinkMatch.All" Href="/catalog/packages" Icon="@Icons.Outlined.Inventory2" Class="custom-nav-child">
                    @L["Packages"]
                </MudNavLink>
            }
            @if (_canViewProducts)
            {
                <MudNavLink Match="NavLinkMatch.All" Href="/catalog/userproducts" Icon="@Icons.Filled.Engineering" Class="custom-nav-child">
                    @L["Products"]
                </MudNavLink>
            }

        </MudNavGroup>
    }

    @* Management *@
    @if (CanViewAdministrationGroup)
    {
        <MudText Typo="Typo.subtitle2" Color="Color.Primary" Class="ml-4 my-3">@L["Administration"]</MudText>

        @if (_canViewHangfire)
        {
            <MudNavLink Href="@_hangfireUrl" Match="NavLinkMatch.All" Target="_blank" Icon="@Icons.Material.Filled.Work">@L["Hangfire"]</MudNavLink>
        }

        @if (_canViewBrands)
        {
            <MudNavLink Match="NavLinkMatch.All" Href="/catalog/brands" Icon="@Icons.Filled.Discount" Class="custom-nav-child">
                @L["Brands"]
            </MudNavLink>
        }
        @if (_canViewCategories)
        {
            <MudNavLink Match="NavLinkMatch.All" Href="/catalog/categories" Icon="@Icons.Filled.Category" Class="custom-nav-child">
                @L["Categories"]
            </MudNavLink>
        }


        @if (_canViewUsers)
        {
            <MudNavGroup Title="@L["Users"]" Expanded Icon="@Icons.Filled.VerifiedUser">
                <MudNavLink Match="NavLinkMatch.All" Href="/users" Icon="@Icons.Material.Filled.PeopleAlt" Class="custom-nav-child">@L["Users"]</MudNavLink>

                @if (_canViewInputOutputResources)
                {
                    <MudNavLink Match="NavLinkMatch.All" Href="/catalog/administer/user/identification-files-documents" Icon="@Icons.Material.Filled.FilePresent" Class="custom-nav-child">@L["Verify Files and Documents"]</MudNavLink>
                }
            </MudNavGroup>
        }
        @if (_canViewRoles)
        {
            <MudNavLink Href="/roles" Icon="@Icons.Material.Filled.EmojiPeople">@L["Roles"]</MudNavLink>
        }
        @if (_canViewTenants)
        {
            <MudNavLink Href="/tenants" Icon="@Icons.Filled.GroupWork" Disabled="!_canViewTenants">@L["Tenants"]</MudNavLink>
        }

        <MudNavLink Href="/audit-logs" Icon="@Icons.Material.Filled.SecurityUpdateGood">@L["Logs"]</MudNavLink>
    }

</MudNavMenu>