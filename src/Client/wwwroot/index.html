<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>eHulog - Your social do-gooder</title>
    <base href="/" />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet" />
    <link href="_content/MudBlazor/MudBlazor.min.css" rel="stylesheet" />
    <!-- link href="EHULOG.BlazorWebAssembly.Client.styles.css" rel="stylesheet" / -->
    <link href="css/ehulog.css" rel="stylesheet" />
    <link href="manifest.json" rel="manifest" />
    <link rel="apple-touch-icon" sizes="512x512" href="ehulog.png" />
    <link rel="apple-touch-icon" sizes="192x192" href="ehulog.png" />
    <link rel="icon" sizes="512x512" href="./ehulog.png" />
    <link rel="icon" sizes="192x192" href="./ehulog.png" />
</head>

<body>
    <div id="app">
        <div class="loader">
            <div class="load-text">
                <div class="loaded-text">e</div>
                <div class="loading-text">Hulog</div>
            </div>
        </div>
    </div>

    <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="" class="reload">Reload</a>
        <a class="dismiss">ðŸ—™</a>
    </div>
    <script src="_framework/blazor.webassembly.js"></script>
    <script src="_content/Microsoft.Authentication.WebAssembly.Msal/AuthenticationService.js"></script>
    <script src="_content/Blazor.Geolocation.WebAssembly/blazorators.geolocation.g.js"></script>
    <script src="_content/MudBlazor/MudBlazor.min.js"></script>
    <script src="./Location.js"></script>
    <script src="js/scriptLoader.js"></script>
    <script src="js/cssLoader.js"></script>
    <script>navigator.serviceWorker.register('service-worker.js');</script>

    <script>
        var themeManager = JSON.parse(window.localStorage.getItem("clientPreference"));
        var primaryColor = '#3eaf7c';
        var baseColor = '#ffffff';
        if (themeManager) {
            if (themeManager.PrimaryColor) {
                primaryColor = themeManager.PrimaryColor;
            }
            if (themeManager.IsDarkMode) {
                baseColor = '#1b1f22';
            }
        }
        var elements = document.getElementsByClassName('fsh-wasm');
        for (var i = 0; i < elements.length; i++) {
            elements[i].style.backgroundImage = 'linear-gradient(-120deg,' + primaryColor + ' 50%,' + baseColor + ' 50%)';
        }

        async function downloadFileFromStream(fileName, contentStreamReference) {
            const arrayBuffer = await contentStreamReference.arrayBuffer();
            const blob = new Blob([arrayBuffer]);
            const url = URL.createObjectURL(blob);

            triggerFileDownload(fileName, url);

            URL.revokeObjectURL(url);
        }

        function triggerFileDownload(fileName, url) {
            const anchorElement = document.createElement('a');
            anchorElement.href = url;
            anchorElement.download = fileName ?? '';
            anchorElement.click();
            anchorElement.remove();
        }
    </script>
    <script>
        window.dotNetJS = {

            containerGrid: function () {
                if (document.querySelector(".btn-list-list")) {
                    document.querySelector(".btn-list-list").addEventListener("click", () => {
                        document.querySelector(".list-grid-group-wrapper").classList.remove("grid-group-wrapper");
                        document.querySelector(".list-grid-group-wrapper").classList.add("list-group-wrapper");
                    });
                }

                if (document.querySelector(".btn-list-list")) {
                    document.querySelector(".btn-list-grid").addEventListener("click", () => {
                        document.querySelector(".list-grid-group-wrapper").classList.remove("list-group-wrapper");
                        document.querySelector(".list-grid-group-wrapper").classList.add("grid-group-wrapper");
                    });
                }
            }
        };
    </script>
    <script>

        window.addEventListener("scroll", function (evt) {

            var elementNavigation = document.querySelector('.main-menu-app-bar');

            if (elementNavigation) {

                var elementNavigationOffsetTop = elementNavigation.offsetTop;

                // console.log(window.scrollY);
                // console.log(elementNavigationOffsetTop);

                if (window.scrollY > elementNavigationOffsetTop) {
                    elementNavigation.classList.remove('floating-static');
                    elementNavigation.classList.add('floating-fixed');
                }

                else {
                    elementNavigation.classList.remove('floating-fixed');
                    elementNavigation.classList.add('floating-static');
                }
            }
        });

    </script>


</body>

</html>