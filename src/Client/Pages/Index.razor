@page "/home"
@page "/"

@attribute [AllowAnonymous]

@if (_isAuthenticated)
{
    <EHULOG.BlazorWebAssembly.Client.Pages.Catalog.FrontLoans />
}
else
{
    <EHULOG.BlazorWebAssembly.Client.Pages.Catalog.Anons.FrontAnonLoans />
}

<LossGeolocationPopup />

@code {

    [Inject]
    protected AuthenticationStateProvider AuthenticationStateProvider { get; set; } = default!;

    private bool _isAuthenticated { get; set; } = false;

    protected override async Task OnInitializedAsync()
    {
        var authState = await AuthenticationStateProvider.GetAuthenticationStateAsync();
        var user = authState.User;
        _isAuthenticated = user.Identity?.IsAuthenticated ?? false;
    }

}