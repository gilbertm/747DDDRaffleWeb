@page "/account/document"


@inject IStringLocalizer<Profile> L


@if (AppDataService != default)
{
    if (AppDataService.AppUser != default)
    {
        <MudGrid>
            <MudItem xs="12" sm="12" md="12">
                <MudText Typo="Typo.h6" Align="Align.Center">Minimum of two (2) valid identifications.</MudText>
                <MudList>
                    <MudListItem Style="padding-bottom:5px;font-size:small">Identifications are manually checked and validators will approved according to the quality of these documents provided.</MudListItem>
                    <MudListItem Style="padding-bottom:5px;font-size:small">Ensuring that eHulog users are legitimate and intents are for the betterment of majority, it is hereby imperative to provide real identification for full verification.</MudListItem>
                    <MudListItem Style="padding-bottom:5px;font-size:small">Full verification of these documents will ensure usage of the ehulog system.</MudListItem>
                </MudList>
            </MudItem>
            <MudItem xs="6" md="3" Class="mb-3 mx-auto">
                <MudCard Elevation="0">
                    <MudCardContent Style="padding:0px!important" Class="text-center">
                        <MudText Typo="Typo.h5" Class="mb-1">Passport</MudText>
                        <MudPaper Elevation="0">
                            <DocumentFileUploader OnChildChanges="@(() => OnChildChanges(ForUploadFiles))" @key="@("Passport")" FileIdentifier="InputOutputResourceDocumentType.Passport" ForUploadFiles="ForUploadFiles" />
                        </MudPaper>
                        <MudPaper Elevation="0">
                            <DocumentFileUploader OnChildChanges="@(()=> OnChildChanges(ForUploadFiles))" @key="@("PassportBack")" FileIdentifier="InputOutputResourceDocumentType.PassportBack" ForUploadFiles="ForUploadFiles" />
                        </MudPaper>
                    </MudCardContent>
                </MudCard>
            </MudItem>
            <MudItem xs="6" md="3" Class="mb-3 mx-auto">
                <MudCard Elevation="0">
                    <MudCardContent Style="padding:0px!important" Class="text-center">
                        <MudText Typo="Typo.h5" Class="mb-1">National ID</MudText>
                        <MudPaper Elevation="0">
                            <DocumentFileUploader OnChildChanges="@(() => OnChildChanges(ForUploadFiles))" @key="@("NationalId")" FileIdentifier="InputOutputResourceDocumentType.NationalId" ForUploadFiles="ForUploadFiles" />
                        </MudPaper>
                        <MudPaper Elevation="0">
                            <DocumentFileUploader OnChildChanges="@(()=> OnChildChanges(ForUploadFiles))" @key="@("NationalIdBack")" FileIdentifier="InputOutputResourceDocumentType.NationalIdBack" ForUploadFiles="ForUploadFiles" />
                        </MudPaper>
                    </MudCardContent>
                </MudCard>
            </MudItem>
            <MudItem xs="6" md="3" Class="mb-3 mx-auto">
                <MudCard Elevation="0">
                    <MudCardContent Style="padding:0px!important" Class="text-center">
                        <MudText Typo="Typo.h5" Class="mb-1">Government ID</MudText>
                        <MudPaper Elevation="0">
                            <DocumentFileUploader OnChildChanges="@(() => OnChildChanges(ForUploadFiles))" @key="@("GovernmentId")" FileIdentifier="InputOutputResourceDocumentType.GovernmentId" ForUploadFiles="ForUploadFiles" />
                        </MudPaper>
                        <MudPaper Elevation="0">
                            <DocumentFileUploader OnChildChanges="@(()=> OnChildChanges(ForUploadFiles))" @key="@("GovernmentIdBack")" FileIdentifier="InputOutputResourceDocumentType.GovernmentIdBack" ForUploadFiles="ForUploadFiles" />
                        </MudPaper>
                    </MudCardContent>
                </MudCard>
            </MudItem>
        </MudGrid>

        <MudGrid>
            <MudItem xs="12">
                <MudText Typo="Typo.h6" Align="Align.Center">One (1) Selfie with the submitted identifications</MudText>
            </MudItem>
            <MudItem xs="6" md="3" Class="mb-3 mx-auto">
                <MudCard Elevation="0">
                    <MudCardContent Style="padding:0px!important" Class="text-center">
                        <MudText Typo="Typo.h5" Class="mb-1">Selfie with card</MudText>
                        <MudPaper Elevation="0">
                            <DocumentFileUploader OnChildChanges="@(()=> OnChildChanges(ForUploadFiles))" @key="@("SelfieWithAtLeastOneCard")" FileIdentifier="InputOutputResourceDocumentType.SelfieWithAtLeastOneCard" ForUploadFiles="ForUploadFiles" />
                        </MudPaper>
                    </MudCardContent>
                </MudCard>
            </MudItem>
        </MudGrid>

        <MudGrid>
            <MudItem xs="12" Class="text-center">
                @switch (AppDataService.AppUser.DocumentsStatus)
                {
                    case VerificationStatus.Initial:
                        <MudButton OnClick="UpdateProfileAsync" Disabled="@SubmitForVerficationDisabled" Variant="Variant.Filled" StartIcon="@Icons.Material.Filled.Send" Color="Color.Surface" Class="mb-5 px-5 py-3"><MudText Typo="Typo.button">Submit for verification</MudText></MudButton>
                        break;
                    case VerificationStatus.Submitted:
                        <MudPaper Elevation="0">
                            <MudText Typo="Typo.h5" Class="mb-5 py-3 px-3" Color="Color.Primary">Under review</MudText>
                        </MudPaper>
                        break;
                    case VerificationStatus.Verified:
                        <MudPaper Elevation="0">
                            <MudText Typo="Typo.h5" Class="mb-5 py-3 px-3" Color="Color.Success">Verified</MudText>
                        </MudPaper>
                        break;
                }

            </MudItem>
        </MudGrid>
    }

}