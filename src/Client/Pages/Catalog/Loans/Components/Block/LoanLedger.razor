@if (LedgerModel is not null && LedgerModel.Count() > 0)
{

    @if (!DisableHeader)
    {
        <MudText Typo="Typo.body1" Color="Color.Surface" Class="d-inline-block">Total </MudText>
        <MudText Typo="Typo.h5" Color="Color.Success" Class="d-inline-block mb-3">@string.Format("{0:#,0.00}", LedgerModel.Sum(s => s.AmountDue)) @Currency</MudText>
    }

    <MudTable Dense="@Dense" Items="@LedgerModel" Context="ledger" Hover="true" Breakpoint="Breakpoint.Sm" LoadingProgressColor="Color.Info">
        <HeaderContent>
            <MudTh><MudText Typo="Typo.caption">No.</MudText></MudTh>
            <MudTh><MudText Typo="Typo.caption">Due</MudText></MudTh>
            <MudTh><MudText Typo="Typo.caption">Date</MudText></MudTh>
            <MudTh><MudText Typo="Typo.caption">Balance</MudText></MudTh>
            @if (!DisableStatusPaymentColumns)
            {
                @if (CanUpdate)
                {
                    <MudTh><MudText Typo="Typo.caption">Status</MudText></MudTh>
                    <MudTh><MudText Typo="Typo.caption">Actions</MudText></MudTh>
                }
            }

        </HeaderContent>
        <RowTemplate>
            <MudTd DataLabel="Position"><MudText Typo="Typo.caption">@ledger.Position</MudText></MudTd>
            <MudTd DataLabel="Due"><MudText Typo="Typo.caption">@string.Format("{0:#,0.00}", ledger.AmountDue)</MudText></MudTd>
            <MudTd DataLabel="Amount"><MudText Typo="Typo.caption">@string.Format("{0:MM/dd/yy}", ledger.DateDue)</MudText></MudTd>
            <MudTd DataLabel="Amount"><MudText Typo="Typo.caption">@string.Format("{0:#,0.00}", ledger.Balance)</MudText></MudTd>
            @if (!DisableStatusPaymentColumns)
            {
                @if (CanUpdate)
                {
                    <MudTd DataLabel="Amount">
                        <MudText Typo="Typo.caption">
                            @if (ledger.Status.Equals(LedgerStatus.Initial))
                            {
                                <MudIcon Icon="@Icons.Filled.Close" Color="Color.Error" />

                                <br />
                                <MudText Typo="Typo.caption">Unpaid</MudText>
                            }
                            else if (ledger.Status.Equals(LedgerStatus.Final))
                            {
                                <MudText Typo="Typo.caption">Final. Paid</MudText>
                            }
                            else
                            {
                                <MudText Typo="Typo.caption">@ledger.Status</MudText>
                            }
                        </MudText>
                    </MudTd>
                    <MudTd DataLabel="Amount">



                        <MudText Typo="Typo.caption">

                            @if (!string.IsNullOrEmpty(ledger.ImageUrl))
                            {
                                <MudAvatar Image="@ledger.ImageUrl" />
                            }
                            else
                            {
                                <MudIcon Icon="@Icons.TwoTone.Payments" />
                            }
                        </MudText>

                    </MudTd>
                }
            }
        </RowTemplate>
    </MudTable>

}

@code {

}
